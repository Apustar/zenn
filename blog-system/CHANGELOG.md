# 更新日志

## [1.1.0] - 2024-12-11

### 新增功能

#### 核心功能增强
- ✨ **文章和相册加密功能**
  - 支持密码保护文章和相册
  - 加密内容预览功能
  - Session 验证机制（30分钟有效期）
  - 密码修改后自动失效旧验证
  - 后端控制内容返回，前端无法绕过

- ✨ **站点设置增强**
  - 站点名称自定义
  - 站点图标上传（支持 PNG、JPG、SVG）
  - 导航栏自定义（显示/隐藏、排序、访问权限）
  - 关于页面（Markdown 支持）

- ✨ **音乐播放器**
  - 音乐上传和管理
  - 播放器功能（播放/暂停、上一曲/下一曲、播放模式切换）
  - 音量控制
  - 播放列表管理
  - 折叠/展开设计（右上角圆形图标）

- ✨ **文章分享功能**
  - 一键复制文章链接
  - 分享到微博、Twitter、QQ
  - 复制成功提示

#### 功能优化
- 🔧 文章点赞功能优化
- 🔧 评论回复功能优化
- 🔧 文章浏览统计（1小时冷却时间）
- 🔧 导航栏显示逻辑优化

### 技术改进

- 📝 代码清理和优化
  - 移除调试代码
  - 优化冗余代码
  - 改进错误处理

- 📚 文档完善
  - 更新 README.md
  - 添加加密功能设计文档

### Bug 修复

- 🐛 修复评论不显示的问题
- 🐛 修复评论回复功能
- 🐛 修复导航栏显示问题
- 🐛 修复加密内容密码修改后仍可访问的问题
- 🐛 修复音乐播放器 API 路由问题
- 🐛 修复分享按钮图标消失的问题

---

## [1.0.0] - 2024-12-11

### 新增功能

#### 核心功能
- ✨ 文章管理系统（CRUD）
- ✨ 分类和标签系统
- ✨ 评论系统（支持回复和点赞）
- ✨ JWT 用户认证
- ✨ 媒体文件管理
- ✨ 文章搜索功能

#### 前端特性
- ✨ 主题切换功能（参考 Sakura 主题设计）
- ✨ 深色模式支持
- ✨ 响应式设计（移动端适配）
- ✨ Pjax 无刷新导航
- ✨ 图片懒加载
- ✨ 代码高亮（Highlight.js）
- ✨ SEO 优化（Meta 标签、Open Graph、Twitter Card）
- ✨ 国际化支持（中文/英文）

#### 页面功能
- ✨ 首页（首屏 + 文章列表）
- ✨ 文章详情页（Markdown 渲染）
- ✨ 分类和标签页面
- ✨ 文章归档页面
- ✨ 瞬间（说说）功能
- ✨ 相册功能（瀑布流布局）
- ✨ 友链管理页面

### 技术栈

#### 后端
- Django 5.x
- Django REST Framework
- JWT 认证
- SQLite/PostgreSQL

#### 前端
- Vue 3 (Composition API)
- TypeScript
- Vite
- Pinia (状态管理)
- Vue Router
- Vue I18n
- Axios
- Highlight.js
- Lazysizes

### 已知问题

- Pjax 功能暂时禁用（避免影响页面显示）
- ContentType ID 需要手动配置（评论功能）
- 部分组件国际化翻译待完善

### 下一步计划

- [ ] 文章目录（TOC）自动生成
- [ ] 阅读统计和热门文章
- [ ] 邮件通知功能
- [ ] RSS 订阅
- [ ] 更多主题样式
